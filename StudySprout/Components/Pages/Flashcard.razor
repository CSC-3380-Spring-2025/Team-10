@*Lexi Reed *@
@page "/flashcard"

<header class="navbar">
    <div class="left-section">
        <img class="nav-logo" src="favicon.png" alt="Study Sprout Logo" />
        <nav>
            <a href="/MyStudySets">MY STUDY SETS</a>
            <a href="/CreateNew">CREATE NEW SET</a>
        </nav>
    </div>

    <div class="right-section">
        <button class="nav-button sign-up" @onclick="NavigateToSignUp">Sign Up</button>
        <button class="nav-button log-in" @onclick="NavigateToLogIn">Log In</button>
    </div>
</header>

<div class="card-counter">
  <h2>@CurrentCard/@TotalCards</h2>
</div>

<div class="card-wrapper">
    <input type="checkbox" id="flip-card" style="display: none;" @bind="IsFlipped" />
    <label for="flip-card">
        <div class="reversible">
            <div class="card tile-back">
                <div class="card-body">
                    <p>@CurrentFlashcard.Question</p>
                </div>
            </div>
            <div class="card tile-front">
                <div class="card-body">
                    <h1>@CurrentFlashcard.Answer</h1>
                </div>
            </div>
        </div>
    </label>

    <div class="arrows">
        <button class="arrow-left" @onclick="PreviousCard"></button>
        <button class="arrow-right" @onclick="NextCard"></button>
    </div>
</div>

@code {
    [Inject]
    private NavigationManager NavigationManager { get; set; }

    private void NavigateToSignUp()
    {
        NavigationManager.NavigateTo("/signup");
    }

    private void NavigateToLogIn()
    {
        NavigationManager.NavigateTo("/signin");
    }

    private int CurrentCard { get; set; } = 1; 
    private int TotalCards { get; set; } = 6; 
    private bool IsFlipped { get; set; } = false;

    private List<Flashcardset> Flashcards { get; set; } = new()
    {
        new Flashcardset { Question = "What is the best study tool?", Answer = "StudySprout" },
        new Flashcardset { Question = "What is better: Quizlet or StudySprout?", Answer = "StudySprout" },
        new Flashcardset { Question = "What study tool is everybody using?", Answer = "StudySprout duh" },
        new Flashcardset { Question = "What are Anki and Quizlet?", Answer = "Old study tools" },
        new Flashcardset { Question = "StudySprout is second to?", Answer = "No one!" },
        new Flashcardset { Question = "What grade is StudySprout going to get?", Answer = "100!!!!!" },
    };

    private Flashcardset CurrentFlashcard => Flashcards[CurrentCard - 1];

    private void NextCard()
    {
        if (CurrentCard < Flashcards.Count)
        {
            CurrentCard++;
            IsFlipped = false; // Unflip the card
        }
    }

    private void PreviousCard()
    {
        if (CurrentCard > 1)
        {
            CurrentCard--;
            IsFlipped = false; // Unflip the card
        }
    }

    public class Flashcardset
    {
        public string? Question { get; set; }
        public string? Answer { get; set; }
    }
}


