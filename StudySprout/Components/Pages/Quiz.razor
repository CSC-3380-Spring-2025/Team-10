@page "/quiz"

<PageTitle>Quiz</PageTitle>

<div class="quiz-page">
    <h1>Quizzes</h1>

    <!-- Button to navigate to Quiz Creation -->
    <button @onclick="NavigateToQuizCreation" class="btn btn-primary">Create a New Quiz</button>

    <!-- List of Saved Quizzes -->
    <div class="saved-quizzes">
        <h2>Saved Quizzes</h2>
        @if (SavedQuizzes.Count == 0)
        {
            <p>No quizzes saved yet.</p>
        }
        else
        {
            <ul>
                @foreach (var quiz in SavedQuizzes)
                {
                    <li>
                        <span>@quiz.Title</span>
                        <button @onclick="() => TakeQuiz(quiz.Id)" class="btn btn-secondary">Take Quiz</button>
                    </li>
                }
            </ul>
        }
    </div>
</div>

<style>
    .quiz-page {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }

    .btn {
        padding: 10px 20px;
        margin: 10px 0;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .btn:hover {
        background-color: #0056b3;
    }

    .saved-quizzes ul {
        list-style-type: none;
        padding: 0;
    }

    .saved-quizzes li {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }

    .saved-quizzes li button {
        margin-left: 10px;
    }
</style>

@code {
    @inject NavigationManager Navigation;

    // Mock data for saved quizzes
    private List<QuizModel> SavedQuizzes { get; set; } = new List<QuizModel>
    {
        new QuizModel { Id = 1, Title = "Math Quiz" },
        new QuizModel { Id = 2, Title = "Science Quiz" }
    };

    // Navigate to the Quiz Creation page
    private void NavigateToQuizCreation()
    {
        Navigation.NavigateTo("/quiz-creation");
    }

    // Take a quiz by navigating to a page with randomized questions
    private void TakeQuiz(int quizId)
    {
        Navigation.NavigateTo($"/takequiz/{quizId}");
    }

    // Quiz model
    private class QuizModel
    {
        public int Id { get; set; }
        public string Title { get; set; }
    }
}